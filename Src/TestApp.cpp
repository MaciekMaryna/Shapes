/******************************************************************************
 * Includes
 ******************************************************************************/
#include <iostream>
#include <iomanip>
#include <chrono>
#include <stdint.h>
#include <conio.h>
#include <TestApp.hpp>

/******************************************************************************
 * Magic number defines
 ******************************************************************************/
#define ESC     27

/******************************************************************************
 * Global variables 
 ******************************************************************************/

/*******************************************************************************
* Function: ClearConsole 
********************************************************************************/
void TestApp::ClearConsole()
{
    std::cout << "\033[2J";
}

/*******************************************************************************
* Function: HideCursor 
********************************************************************************/
void TestApp::HideCursor(void)
{
    std::cout << "\033[?25l";
}

/*******************************************************************************
* Function: ShowCursor 
********************************************************************************/
void TestApp::ShowCursor(void)
{
    std::cout << "\033[?25h";
}

/*******************************************************************************
* Function: AsciiIfKeyPressed - non-blocking function
********************************************************************************/
int TestApp::AsciiIfKeyPressed(void)
{
    int ReturnValue = 0;
    if (_kbhit()) 
    { 
        ReturnValue = _getch(); 
    }
    return ReturnValue;
}
/*******************************************************************************
* Function: Run 
********************************************************************************/
void TestApp::TestApp_main(void)
{
    bool  DoNotFinish = true;
    std::cout <<"AAAAAAAAAAAAAA";
    do
    {
 
        switch(AsciiIfKeyPressed())
        {
            case ESC: 
                    DoNotFinish = false;
                    break;
            default: break;
        }

    }
    while(DoNotFinish);
}
